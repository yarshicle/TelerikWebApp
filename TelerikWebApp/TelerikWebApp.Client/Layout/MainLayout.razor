@using TelerikWebApp.Client.Services
@inherits LayoutComponentBase
@inject ThemeService ThemeService

<TelerikRootComponent>
	<div class="page">
		<div class="sidebar">
			<NavMenu />
		</div>

		<main>
			<div class="top-row px-4">
				<ThemeSwitcher />
			</div>

			<article class="content px-4">
				@Body
			</article>
		</main>
	</div>

	<div id="blazor-error-ui" data-nosnippet>
		An unhandled error has occurred.
		<a href="." class="reload">Reload</a>
		<span class="dismiss">🗙</span>
	</div>
</TelerikRootComponent>

@code {
	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if (firstRender)
		{
			await ThemeService.InitializeAsync();
		}
	}
}